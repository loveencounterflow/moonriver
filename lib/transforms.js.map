{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/transforms.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n############################################################################################################\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'MOONRIVER/TRANSFORMS'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\n#...........................................................................................................\n{ get_transform_types\n  misfit                } = require './types'\n\n\n#-----------------------------------------------------------------------------------------------------------\n@$window = ( cfg ) ->\n  cfg           = get_transform_types().create.transform_window_cfg cfg\n  { min\n    max\n    empty }     = cfg\n  { $ }         = require './main'\n  last          = Symbol 'last'\n  buffer        = {}\n  buffer[ nr ]  = empty for nr in [ min .. max ]\n  advance       = -> buffer[ nr - 1 ]  = buffer[ nr ] for nr in [ min + 1 .. max ]\n  #.........................................................................................................\n  return $ { last, }, ( d, send ) ->\n    if d is last\n      loop\n        advance()\n        buffer[ max ] = empty\n        ### TAINT incorrect condition ###\n        break if buffer[ 0 ] is empty\n        send { buffer..., }\n      return null\n    advance()\n    buffer[ max ] = d\n    send { buffer..., } unless buffer[ 0 ] is empty\n\n#-----------------------------------------------------------------------------------------------------------\n@$named_window = ( cfg ) ->\n  cfg                   = get_transform_types().create.transform_named_window_cfg cfg\n  { names\n    empty }             = cfg\n  { Pipeline }          = require './main'\n  R                     = new Pipeline()\n  #.........................................................................................................\n  min                   = -( names.length - 1 ) / 2\n  max                   = -min\n  map                   = {}\n  map[ idx + min + 1 ]  = names[ idx + max ] for idx in [ min .. max ]\n  debug '^89384563^', map\n  #.........................................................................................................\n  R.push @$window { min, max, empty, }\n  R.push ( d, send ) ->\n    debug '^647698^', d\n    e         = {}\n    e[ name ] = d[ idx ] for idx, name of map\n    send e\n  return R\n\n# #-----------------------------------------------------------------------------------------------------------\n# @$window_list = ( min, max, empty = misfit ) ->\n#   { $ }         = require './main'\n#   last          = Symbol 'last'\n#   buffer        = ( empty for nr in [ min .. max ] )\n#   #.........................................................................................................\n#   return $ { last, }, ( d, send ) ->\n#     if d is last\n#       loop\n#         buffer.shift()\n#         buffer.push empty\n#         break if buffer[ 0 ] is empty\n#         send [ buffer..., ]\n#       return null\n#     buffer.shift()\n#     buffer.push d\n#     send [ buffer..., ] unless buffer[ 0 ] is empty\n\n#-----------------------------------------------------------------------------------------------------------\n@$split_lines = ->\n  SL  = require 'intertext-splitlines'\n  ctx = SL.new_context()\n  return split_lines = ( d, send ) ->\n    for line from SL.walk_lines ctx, d\n      send line\n    return null\n\n#-----------------------------------------------------------------------------------------------------------\n@$limit = ( n ) ->\n  count = 0\n  return limit = ( d, send ) ->\n    return null if count >= n\n    count++\n    send d\n    return null\n\n\n\n"
  ]
}